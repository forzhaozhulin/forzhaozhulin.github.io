---
layout: post
title:  "异常类和内部类"
date:   2017-11-01
categories: Java
tags: 异常类 内部类
---

* content
{:toc}
# 内部类：

将类写在其他类的内部，可以写在其他类的成员位置和局部位置，这时写在其他类内部的类就称为内部类。其他类也称为外部类。

<!-- more -->

成员内部类，定义在外部类中的成员位置。与类中的成员变量相似，可通过外部类对象进行访问

定义格式:

```java
class 外部类 { 
修饰符 class 内部类 {
//其他代码
}
}
```

访问方式:

外部类名.内部类名 变量名 = new 外部类名().new 内部类名();

- 成员内部类和成员变量、方法在同一位置
- 可以直接访问外部类的成员包括私有；
- 成员内部类可以使用的修饰符:private,public,procted,final,static,abstract 

### 局部内部类

定义在外部类方法中的局部位置。与访问方法中的局部变量相似，可通过调用方法进行访问

定义格式:

```java
class 外部类 { 
修饰符 返回值类型 方法名(参数) {
class 内部类 {
//其他代码
}
}
}
```

局部内部类出了方法就不能使用

### 匿名内部类：

匿名内部类是创建某个类型子类对象的快捷方式。

格式：

```
new 父类或接口(){
//进行方法重写
};
```

```java
//已经存在的父类：
public abstract class Person{
	public abstract void eat();
}
//定义并创建该父类的子类对象，并用多态的方式赋值给父类引用变量
Person  p = new Person(){
	public void eat() {
		System.out.println(“我吃了”);
}
};
//调用eat方法
p.eat();
```

使用匿名对象的方式，将定义子类与创建子类对象两个步骤由一个格式一次完成

匿名内部类如果不定义变量引用，则也是匿名对象：

```java
new Person(){
	public void eat() {
		System.out.println(“我吃了”);
}
}.eat();
```

```
new 类/接口(){

 // 如果是创建了继承这个类的子类对象，我们可以重写父类的方法

 //	如果是创建了实现这个接口的子类对象，我们必须要实现该接口的所有方法

 };
```

原理：而是创建了继承这个类的子类对象或者是创建了实现这个接口的子类对象

## 异常：

我们在写代码的时候，经常的出现一些小问题，那么为了方便我们处理这些问题，java为我们提供了异常机制

异常包含了错误的类型、原因以及位置

异常：不正常，我们在代码的时候出现的编译或者运行时的错误

异常的体系结构：

​	Throwable（最顶层）

​		Error:出现的不能够处理的严重问题

​		Exception:可以处理的问题

### JVM默认处理方式：

如果出现异常我们没有处理，jvm会帮我们进行处理，他会把异常的类型，原因还有位置显示在命令行并且还终止了程序，异常后面的代码将不在执行



### try…catch方式处理异常：

```java
try {
//需要被检测的语句。
}
catch(异常类 变量) { //参数。
//异常的处理语句。
}
```

先执行try 若发现异常立即跳入Catch，catch语句结束后，整个try...catch结束

​	try：该代码块中编写可能产生异常的代码。

​	catch：用来进行某种异常的捕获，实现对捕获到的异常进行处理。

### throws方式处理异常:

```
权限修饰符 返回值类型  方法名(形参列表) throws 异常类型1,异常类型2….{
}  
```

当我们不想处理异常或没有能力处理异常时，可以选择抛出异常。

### Throwable常用方法

```
String getMessage()  返回此 throwable 的详细消息字符串
String toString()  返回此 throwable 的简短描述
void printStackTrace()  打印异常的堆栈的跟踪信息
```

```java
finally使用格式:
try{
}catch(异常类型 异常变量){
}finally{
   //释放资源的代码
}
```

异常的分类：

运行时期异常:RuntimeException的子类就是运行时期异常，在编译时期可以自由选择处理或者不处理

编译时期异常:是Exception的子类，非RuntimeExcpetion的子类，在编译时期必须处理





